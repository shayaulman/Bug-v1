var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(t,n){t.appendChild(n)}function a(t,n,e){t.insertBefore(n,e||null)}function i(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function l(){return f(" ")}function s(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}let h;function g(t){h=t}const p=[],$=[],m=[],b=[],v=Promise.resolve();let y=!1;function _(t){m.push(t)}function x(){const t=new Set;do{for(;p.length;){const t=p.shift();g(t),k(t.$$)}for(;$.length;)$.pop()();for(let n=0;n<m.length;n+=1){const e=m[n];t.has(e)||(e(),t.add(e))}m.length=0}while(p.length);for(;b.length;)b.pop()();y=!1}function k(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(_))}const w=new Set;function E(t,n){t.$$.dirty||(p.push(t),y||(y=!0,v.then(x)),t.$$.dirty=e()),t.$$.dirty[n]=!0}function C(c,u,a,i,d,f){const l=h;g(c);const s=u.props||{},p=c.$$={fragment:null,ctx:null,props:f,update:t,not_equal:d,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:e(),dirty:null};let $=!1;var m,b,v;p.ctx=a?a(c,s,(t,n)=>{p.ctx&&d(p.ctx[t],p.ctx[t]=n)&&(p.bound[t]&&p.bound[t](n),$&&E(c,t))}):s,p.update(),$=!0,r(p.before_update),p.fragment=i(p.ctx),u.target&&(u.hydrate?p.fragment.l((v=u.target,Array.from(v.childNodes))):p.fragment.c(),u.intro&&((m=c.$$.fragment)&&m.i&&(w.delete(m),m.i(b))),function(t,e,c){const{fragment:u,on_mount:a,on_destroy:i,after_update:d}=t.$$;u.m(e,c),_(()=>{const e=a.map(n).filter(o);i?i.push(...e):r(e),t.$$.on_mount=[]}),d.forEach(_)}(c,u.target,u.anchor),x()),g(l)}class A{$destroy(){var n,e;e=1,(n=this).$$.fragment&&(r(n.$$.on_destroy),n.$$.fragment.d(e),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={}),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function N(t,n,e){const r=Object.create(t);return r.bug=n[e],r.each_value=n,r.i=e,r}function j(n){var e;return{c(){(e=d("p")).textContent="'Hooray!!'"},m(t,n){a(t,e,n)},p:t,d(t){t&&i(e)}}}function B(t){for(var n,e=t.bugs,r=[],o=0;o<e.length;o+=1)r[o]=O(N(t,e,o));return{c(){for(var t=0;t<r.length;t+=1)r[t].c();n=f("")},m(t,e){for(var o=0;o<r.length;o+=1)r[o].m(t,e);a(t,n,e)},p(t,o){if(t.bugs){e=o.bugs;for(var c=0;c<e.length;c+=1){const u=N(o,e,c);r[c]?r[c].p(t,u):(r[c]=O(u),r[c].c(),r[c].m(n.parentNode,n))}for(;c<r.length;c+=1)r[c].d(1);r.length=e.length}},d(t){!function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(r,t),t&&i(n)}}}function O(t){var n,e;function o(){t.input_change_handler.call(n,t)}function c(){return t.change_handler(t)}return{c(){var t,r,u;n=d("input"),t=n,r="type",null==(u="checkbox")?t.removeAttribute(r):t.setAttribute(r,u),e=[s(n,"change",o),s(n,"change",c)]},m(e,r){a(e,n,r),n.checked=t.bug},p(e,r){t=r,e.bugs&&(n.checked=t.bug)},d(t){t&&i(n),r(e)}}}function L(n){var e,r,o,c,h,g,p,$,m,b,v;function y(t,n){return n.solved?j:B}var _=y(0,n),x=_(n);return{c(){e=d("div"),(r=d("p")).textContent="Try to debug this...",o=l(),c=d("p"),h=f("You have a  1 / "),g=f(n.chance),p=f(" chance to debug this (to undrstand why - see the code...)"),$=l(),x.c(),m=l(),(b=d("button")).textContent="+",v=s(b,"click",n.addBug)},m(t,n){a(t,e,n),u(e,r),u(e,o),u(e,c),u(c,h),u(c,g),u(c,p),u(e,$),x.m(e,null),u(e,m),u(e,b)},p(t,n){_===(_=y(0,n))&&x?x.p(t,n):(x.d(1),(x=_(n))&&(x.c(),x.m(e,m)))},i:t,o:t,d(t){t&&i(e),x.d(),v()}}}function M(t,n,e){let r=[!1,!0,!1,!1,!0],o=!1;const c=t=>{!0!==r[t]&&(e("bugs",r=r.map((n,e)=>!0===n||Math.random()>.5&&e!==t)),e("solved",o=!r.includes(!0)))};let u=[...Array(r.length).keys()].slice(1).reduce((t,n)=>t*n);return{bugs:r,solved:o,debug:c,chance:u,addBug:()=>{let t=[...r].push(!0);e("bugs",r=t)},input_change_handler:function({bug:t,each_value:n,i:o}){n[o]=this.checked,e("bugs",r)},change_handler:function({i:t}){return c(t)}}}return new class extends A{constructor(t){super(),C(this,t,M,L,c,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
